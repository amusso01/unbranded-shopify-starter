{% doc %}
  Loads all font variations with display: swap for header and body fonts.

  @example
  {% render 'font-loader' %}
{% enddoc %}

{% style %}
  {% # ============================================ %}
  {% # Font Loading - Loads all font variations with display: swap %}
  {% # ============================================ %}
  
  {% # Load default header font %}
  {{ settings.type_header_font | font_face: font_display: 'swap' }}
  {{ settings.type_header_font | font_modify: 'weight', 'bold' | font_face: font_display: 'swap' }}
  {{ settings.type_header_font | font_modify: 'weight', 'bold' | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}
  {{ settings.type_header_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}

  {% # Load default body font %}
  {{ settings.type_body_font | font_face: font_display: 'swap' }}
  {{ settings.type_body_font | font_modify: 'weight', 'bold' | font_face: font_display: 'swap' }}
  {{ settings.type_body_font | font_modify: 'weight', 'bold' | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}
  {{ settings.type_body_font | font_modify: 'style', 'italic' | font_face: font_display: 'swap' }}

  {% # ============================================ %}
  {% # Custom Font Loading - Header Alternative Font %}
  {% # ============================================ %}
  {% if settings.header_alternative_font_name != blank and settings.header_alternative_font_extensions != blank %}
    {% liquid
      assign header_font_name = settings.header_alternative_font_name | strip
      assign header_extensions = settings.header_alternative_font_extensions
      assign src_list = ''
      
      for extension in header_extensions
        assign font_file = header_font_name | append: '.' | append: extension
        assign font_url = font_file | asset_url
        
        case extension
          when 'woff2'
            assign format = 'woff2'
          when 'woff'
            assign format = 'woff'
          when 'ttf'
            assign format = 'truetype'
          when 'eot'
            assign format = 'embedded-opentype'
        endcase
        
        if src_list != blank
          assign src_list = src_list | append: ', '
        endif
        assign src_list = src_list | append: "url('" | append: font_url | append: "') format('" | append: format | append: "')"
      endfor
    %}
    @font-face {
      font-family: '{{ settings.header_alternative_font_name }}';
      src: {{ src_list }};
      font-display: swap;
      font-weight: normal;
      font-style: normal;
    }
  {% endif %}

  {% # ============================================ %}
  {% # Custom Font Loading - Body Alternative Font %}
  {% # ============================================ %}
  {% if settings.body_alternative_font_name != blank and settings.body_alternative_font_extensions != blank %}
    {% liquid
      assign body_font_name = settings.body_alternative_font_name | strip
      assign body_extensions = settings.body_alternative_font_extensions
      assign src_list = ''
      
      for extension in body_extensions
        assign font_file = body_font_name | append: '.' | append: extension
        assign font_url = font_file | asset_url
        
        case extension
          when 'woff2'
            assign format = 'woff2'
          when 'woff'
            assign format = 'woff'
          when 'ttf'
            assign format = 'truetype'
          when 'eot'
            assign format = 'embedded-opentype'
        endcase
        
        if src_list != blank
          assign src_list = src_list | append: ', '
        endif
        assign src_list = src_list | append: "url('" | append: font_url | append: "') format('" | append: format | append: "')"
      endfor
    %}
    @font-face {
      font-family: '{{ settings.body_alternative_font_name }}';
      src: {{ src_list }};
      font-display: swap;
      font-weight: normal;
      font-style: normal;
    }
  {% endif %}
{% endstyle %}
